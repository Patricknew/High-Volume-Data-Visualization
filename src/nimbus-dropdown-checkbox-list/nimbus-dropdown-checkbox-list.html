<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/paper-dropdown-menu/paper-dropdown-menu.html">
<link rel="import" href="../../bower_components/paper-listbox/paper-listbox.html">
<link rel="import" href="../../bower_components/paper-item/paper-item.html">
<link rel="import" href="../nimbus-checkbox-list/nimbus-checkbox-list.html">

<dom-module id="nimbus-dropdown-checkbox-list">
<template>
    <style>
        paper-dropdown-menu.custom {
            --paper-input-container-label: {
              color: var(--paper-pink-500);
              font-style: italic;
              text-align: center;
              font-weight: bold;
            };
            --paper-input-container-input: {
              color: var(--paper-indigo-500);
              font-style: normal;
              font-family: serif;
              text-transform: uppercase;
            }
            /* no underline */
            --paper-input-container-underline: {
              display: none;
            };
        }

    </style>  

<!-- Patrick's checkbox within dropdown menu -->
    <div class="dropdown with checkbox">
        <paper-dropdown-menu label="dropdown-checkbox">
<!--             <paper-listbox multi class="dropdown-content" > -->
            <paper-item>test</paper-item>
            <nimbus-checkbox-list items="[[getResults(queryResult)]]" selected-items="{{result}}"></nimbus-checkbox-list>
<!--         </paper-listbox> -->
        </paper-dropdown-menu>
    </div>
<!--     <div class="dropdown-checkbox">
        <paper-listbox multi class="dropdown-content" >
            <template is="dom-repeat" id="wellNamesList" items="[[items]]">
                <paper-checkbox on-change="handleCheck" value="[[item]]">[[item]]</paper-checkbox>
            </template>
        </paper-listbox>
    </div> -->

</template>
<script>
    Polymer({
        is: 'nimbus-dropdown-checkbox-list',
        properties: {
            items:{
                type: Array
            },
            selectedItems: {
                type: Array,
                notify: true,
                readonly: true,
                value : function(){
                    return [];
                }
            }
        },
        _itemSelected: function(e){
            var selectedItem = e.target.selectedItems;
            if (selectedItem){
                console.log("selected: " + selectedItem.outerHTML);
            }
        },
        handleCheck: function(event){
            if(event.target.checked){
                this.selectedItems = this.selectedItems.concat(event.target.value)
            }   else {
                this.selectedItems.splice(this.selectedItems.indexOf(event.target.value),1)
                this.selectedItems = [].concat(this.selectedItems)
            }  
        },
      
    })

</script>
</dom-module>    